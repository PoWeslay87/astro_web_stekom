---
import Layout from '../../layouts/Layout.astro';
import ArticleBanner from '../../components/ArticleBanner.astro';
---

<Layout title="Detail Artikel - Universitas STEKOM">
    <ArticleBanner title="Detail Artikel" />

    <div class="bg-gray-50/50 min-h-screen py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

            <!-- Main Layout Grid -->
            <div class="flex flex-col lg:flex-row gap-8">

                <!-- Left Column: Article -->
                <article class="lg:w-3/4">
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">

                        <!-- Featured Image Stage -->
                        <div class="relative group">
                            <img id="article-image" src="/img/logo_stekom.png" alt="Article Image"
                                class="w-full h-auto max-h-[500px] object-cover bg-gray-900 transition-transform duration-500" />
                            <div class="absolute inset-x-0 bottom-0 h-24 bg-linear-to-t from-black/50 to-transparent">
                            </div>
                        </div>

                        <div class="p-6 md:p-10">
                            <!-- Meta Info & Category -->
                            <div class="flex flex-wrap items-center gap-4 mb-6">
                                <span
                                    class="px-3 py-1 bg-cyan-100 text-cyan-700 text-xs font-bold uppercase tracking-wider rounded-lg">
                                    Wawasan & Inspirasi
                                </span>
                                <div class="flex items-center text-sm text-gray-400">
                                    <svg class="w-4 h-4 mr-2 text-cyan-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                    </svg>
                                    <span id="article-author">Loading...</span>
                                </div>
                                <div class="flex items-center text-sm text-gray-400">
                                    <svg class="w-4 h-4 mr-2 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                    </svg>
                                    <span id="article-date-meta">Loading Date...</span>
                                </div>
                            </div>


                            <!-- Main Content Body -->
                            <div id="article-content" class="prose prose-lg max-w-none text-gray-600 leading-relaxed mb-12">
                                <div class="animate-pulse space-y-4">
                                    <div class="h-4 bg-gray-200 rounded w-3/4"></div>
                                    <div class="h-4 bg-gray-200 rounded"></div>
                                    <div class="h-4 bg-gray-200 rounded w-5/6"></div>
                                </div>
                            </div>

                            <!-- Action Bottom Bar -->
                            <div class="pt-8 border-t border-gray-100 flex items-center justify-between">
                                <a href="/artikel"
                                    class="inline-flex items-center gap-2 px-6 py-3 bg-linear-to-r from-cyan-600 to-blue-600 text-white text-sm font-bold rounded-full hover:from-cyan-500 hover:to-blue-500 transition-all shadow-lg hover:shadow-cyan-500/30 hover:-translate-y-0.5 active:scale-95">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                                    </svg>
                                    Kembali ke Artikel
                                </a>

                                <div class="flex gap-4">
                                    <button class="text-gray-400 hover:text-cyan-600 transition-colors">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                                    </button>
                                    <button class="text-gray-400 hover:text-cyan-400 transition-colors">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.84 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>

                <!-- Right Column: Sidebar -->
                <aside class="lg:w-1/4 space-y-8">

                    <!-- Premium Category Widget -->
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                        <h3 class="font-bold text-gray-900 text-lg mb-4 flex items-center">
                            <span class="w-1.5 h-6 bg-cyan-500 rounded-full mr-3"></span>
                            Kategori
                        </h3>
                        <ul class="space-y-1">
                            <li>
                                <a href="/berita"
                                    class="flex items-center justify-between p-3 rounded-xl hover:bg-cyan-50 group transition-all">
                                    <span class="text-gray-600 group-hover:text-cyan-600 font-medium">Berita</span>
                                    <svg class="w-3 h-3 text-gray-300 group-hover:text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                                </a>
                            </li>
                            <li>
                                <a href="/artikel"
                                    class="flex items-center justify-between p-3 rounded-xl hover:bg-cyan-50 group transition-all">
                                    <span class="text-gray-600 group-hover:text-cyan-600 font-medium">Artikel</span>
                                    <svg class="w-3 h-3 text-gray-300 group-hover:text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <!-- Recent Updates Widget -->
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                        <h3 class="font-bold text-gray-900 text-lg mb-6 flex items-center">
                            <span class="w-1.5 h-6 bg-red-600 rounded-full mr-3"></span>
                            Artikel Terbaru
                        </h3>
                        <div class="space-y-6" id="recent-articles-list">
                            <!-- JS will populate this -->
                        </div>
                    </div>

                </aside>

            </div>

        </div>
    </div>
</Layout>

<script is:inline>
        const articleItems = [
            {
                date: "15 Nov 2025",
                image: "/img/artikel/artikel1.jpg",
                title: "AI untuk Mahasiswa: Memperkuat, Bukan Menggantikan, Pikir Kritis",
                author: "Dr. Made Arya, S.Kom., M.Kom.",
                fullContent: `Di era di mana kecerdasan buatan (AI) semakin mudah diakses, mahasiswa kini memiliki kekuatan luar biasa di ujung jari—dari menulis esai hingga menganalisis data hanya dalam hitungan detik. Namun, kemudahan ini juga membawa tantangan besar: bagaimana memastikan bahwa AI digunakan sebagai alat bantu, bukan sebagai pengganti proses berpikir sendiri? Artikel ini mengajak pembaca untuk merefleksikan peran AI dalam dunia akademik, sekaligus memberikan panduan praktis agar mahasiswa tetap melatih dan mempertajam daya pikir kritis mereka.\n\nKami menjelaskan mengapa berpikir kritis tetap menjadi fondasi utama pendidikan tinggi, bahkan—atau justru karena—kita hidup di zaman AI. Melalui contoh nyata, seperti memverifikasi informasi dari AI, merancang pertanyaan yang mendalam, hingga menggunakan AI untuk simulasi argumen, artikel ini menunjukkan bahwa kolaborasi antara manusia dan teknologi bisa menjadi sinergi yang memperkaya, bukan melemahkan, kemampuan intelektual.\n\nBagi mahasiswa, dosen, atau siapa pun yang peduli pada masa depan pendidikan, tulisan ini adalah ajakan untuk tidak hanya menggunakan AI, tetapi memahami, mempertanyakan, dan mengarahkannya dengan kesadaran penuh—karena teknologi terbaik adalah yang memperkuat, bukan menggantikan, cara kita berpikir.`,
            },
            {
                date: "22 Nov 2025",
                image: "/img/artikel/artikel2.jpg",
                title: "Cara Mengatasi Mahasiswa yang Sering Mengantuk Saat Kuliah",
                author: "Prof. Dr. Ni Luh Putu Sriyani, M.Pd.",
                fullContent: `Banyak mahasiswa mengalami rasa mengantuk saat mengikuti perkuliahan, terutama pada jam pagi atau setelah makan siang. Kondisi ini dapat mengganggu konsentrasi, menurunkan pemahaman materi, serta membuat prestasi akademik menurun. Rasa kantuk biasanya disebabkan oleh kurang tidur, pola makan tidak teratur, kelelahan, serta kebiasaan begadang.\n\nUntuk mengatasi masalah ini, mahasiswa perlu menerapkan pola hidup sehat. Tidur cukup minimal 7–8 jam setiap malam sangat penting agar tubuh dan otak tetap segar saat kuliah. Selain itu, sarapan dengan makanan bergizi seperti telur, buah, dan sayur dapat membantu menjaga energi sepanjang hari. Hindari makanan terlalu berminyak atau terlalu berat sebelum kuliah karena dapat membuat tubuh lebih cepat lemas dan mengantuk.\n\nAktivitas fisik ringan seperti berjalan kaki atau melakukan peregangan sebelum masuk kelas juga dapat membantu melancarkan peredaran darah dan mengurangi rasa kantuk. Saat di dalam kelas, usahakan duduk di posisi depan, mencatat materi, dan aktif bertanya agar pikiran tetap fokus. Mengonsumsi air putih yang cukup juga penting karena dehidrasi dapat menyebabkan tubuh cepat lelah.`,
            },
            {
                date: "10 Dec 2025",
                image: "/img/artikel/artikel3.png",
                title: "Kewirausahaan: Bangun Bisnis, Raih Kesuksesan, Ciptakan Peluang",
                author: "Ir. I Made Sudarma, M.T.",
                fullContent: `Poster ini menggambarkan pentingnya kewirausahaan sebagai bekal mahasiswa dalam menghadapi tantangan dunia kerja dan ekonomi masa depan. Kewirausahaan mendorong mahasiswa untuk berpikir kreatif, inovatif, serta berani mengambil peluang bisnis sejak dini.\n\nMelalui semangat kewirausahaan, mahasiswa tidak hanya belajar membangun usaha, tetapi juga mengembangkan kemampuan kepemimpinan, manajemen, dan pemecahan masalah. Dengan memulai dari ide sederhana, mahasiswa dapat menciptakan peluang baru yang berdampak pada kemandirian ekonomi dan pertumbuhan masyarakat.\n\nKewirausahaan bukan hanya tentang mencari keuntungan, tetapi juga tentang menciptakan solusi, membuka lapangan kerja, and membangun masa depan yang lebih baik melalui inovasi dan kerja keras.`,
            },
            {
                date: "15 Dec 2025",
                image: "/img/artikel/artikel4.png",
                title: "AI & Machine Learning: Teknologi Cerdas untuk Masa Depan Digital",
                author: "Dr. Komang Candra Brata, S.Kom., M.Cs.",
                fullContent: `Poster ini membahas tentang Artificial Intelligence (AI) and Machine Learning (ML) sebagai teknologi cerdas yang mampu membantu manusia dalam menganalisis data, melakukan otomatisasi, serta membuat prediksi secara akurat. AI and ML telah digunakan dalam berbagai bidang seperti pendidikan, bisnis, kesehatan, and industri digital.\n\nDengan memahami konsep dasar AI & ML, mahasiswa and masyarakat dapat memanfaatkan teknologi ini untuk meningkatkan produktivitas, efisiensi kerja, and menciptakan inovasi baru di era transformasi digital. Selain itu, perkembangan AI & ML membuka peluang besar dalam dunia kerja and industri teknologi. Penguasaan teknologi ini menjadi keterampilan penting bagi generasi muda untuk menghadapi persaingan global.`,
            },
            {
                date: "18 Dec 2025",
                image: "/img/artikel/artikel5.jpg",
                title: " Gaji Fresh Graduate IT: Peluang Karier dan Penghasilan di Era Digital",
                author: "Dr. Ni Made Rai Sukmawati, S.E., M.M.",
                fullContent: `Poster ini membahas tentang kisaran gaji fresh graduate jurusan IT atau komputer yang semakin menjanjikan seiring berkembangnya teknologi digital. Lulusan IT memiliki peluang kerja luas di berbagai bidang seperti software development, data analyst, jaringan komputer, hingga cyber security.\n\nBesaran gaji fresh graduate IT dipengaruhi oleh beberapa faktor, seperti kemampuan teknis, sertifikasi, pengalaman magang, serta perusahaan tempat bekerja. Selain itu, lokasi kerja and jenis industri juga menentukan tingkat penghasilan yang diterima. Dengan menguasai keterampilan yang relevan seperti pemrograman, database, cloud computing, and Artificial Intelligence, fresh graduate IT dapat meningkatkan daya saing.`,
            },
            {
                date: "20 Dec 2025",
                image: "/img/artikel/artikel6.png",
                title: "Peran Pemerintah dalam Meningkatkan Kesejahteraan Masyarakat",
                author: "Dr. I Gusti Ayu Tri Lestari, M.Psi.",
                fullContent: `Poster ini membahas kondisi masyarakat yang masih menghadapi berbagai kesulitan ekonomi, seperti meningkatnya kebutuhan hidup, keterbatasan lapangan pekerjaan, serta akses pendidikan dan kesehatan yang belum merata. Situasi ini menuntut adanya peran aktif pemerintah dalam memberikan perlindungan dan dukungan kepada masyarakat.\n\nPemerintah memiliki tanggung jawab untuk menghadirkan kebijakan yang berpihak pada kesejahteraan rakyat, seperti program bantuan sosial, pemberdayaan ekonomi, penciptaan lapangan kerja, serta peningkatan layanan publik. Melalui kebijakan yang tepat, diharapkan beban masyarakat dapat berkurang and kualitas hidup dapat meningkat.`,
            },
        ];

        function initDetail() {
            try {
                const recentArticlesList = document.getElementById("recent-articles-list");
                if (recentArticlesList) {
                    recentArticlesList.innerHTML = articleItems
                        .slice(0, 4)
                        .map(
                            (item, i) => `
                <div class="flex gap-4 group">
                    <div class="w-16 h-16 shrink-0 rounded-xl overflow-hidden shadow-sm">
                        <img src="${item.image}" alt="Post" class="w-full h-full object-cover group-hover:scale-110 transition-transform" onerror="this.src='/img/logo_stekom.png'">
                    </div>
                    <div class="flex flex-col justify-center">
                        <span class="text-[10px] font-black text-cyan-600 uppercase tracking-widest mb-1">Artikel</span>
                        <a href="/artikel/detail?index=${i}" class="text-sm font-bold text-gray-800 hover:text-cyan-600 line-clamp-2 leading-snug">
                            ${item.title}
                        </a>
                    </div>
                </div>
            `,
                        )
                        .join("");
                }

                const urlParams = new URLSearchParams(window.location.search);
                const index = parseInt(urlParams.get("index"));

                const titleEl = document.getElementById("article-title");
                const contentEl = document.getElementById("article-content");
                const authorEl = document.getElementById("article-author");
                const dateEl = document.getElementById("article-date-meta");
                const imageEl = document.getElementById("article-image");
                const breadcrumbTitleEl = document.getElementById("breadcrumb-title");
                const bannerTitleEl = document.getElementById("article-title-banner");

                if (!isNaN(index) && articleItems[index]) {
                    const article = articleItems[index];

                    if (titleEl) titleEl.textContent = article.title;
                    if (authorEl) authorEl.textContent = article.author;
                    if (dateEl) dateEl.textContent = article.date;
                    if (imageEl) imageEl.src = article.image;
                    if (breadcrumbTitleEl) breadcrumbTitleEl.textContent = article.title;
                    if (bannerTitleEl) bannerTitleEl.textContent = article.title;

                    const contentHtml = article.fullContent
                        ? article.fullContent
                            .split(/\n\n|\n/)
                            .map((p) => `<p class="mb-6">${p.trim()}</p>`)
                            .join("")
                        : "";
                    if (contentEl) contentEl.innerHTML = contentHtml;

                    document.title = article.title + " | Universitas STEKOM";
                } else {
                    if (bannerTitleEl) bannerTitleEl.textContent = "Artikel Tidak Ditemukan";
                    if (titleEl) titleEl.textContent = "Artikel Tidak Ditemukan";
                    if (contentEl) {
                         contentEl.innerHTML =
                        '<div class="py-20 text-center"><p class="text-gray-400 font-bold">Maaf, artikel yang Anda cari tidak tersedia atau telah dipindahkan.</p></div>';
                    }
                }
            } catch (err) {
                console.error("Error in initDetail:", err);
            }
        }

        // Run immediately
        initDetail();

        // Also run on DOMContentLoaded
        document.addEventListener("DOMContentLoaded", initDetail);
    </script>
</Layout>
